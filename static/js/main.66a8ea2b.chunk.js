(this["webpackJsonpchallenge-alkemy"]=this["webpackJsonpchallenge-alkemy"]||[]).push([[0],{190:function(e,t){},192:function(e,t){},205:function(e,t){},207:function(e,t){},235:function(e,t){},237:function(e,t){},238:function(e,t){},243:function(e,t){},245:function(e,t){},264:function(e,t){},276:function(e,t){},279:function(e,t){},321:function(e,t,c){},322:function(e,t,c){},323:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(153),n=c.n(s),r=(c(162),c(163),c(164),c(14)),l=Object(a.createContext)({}),i=c(11),o="[auth] login",d="[auth] logout",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},t.payload),{},{logged:!0});case d:return{logged:!1};default:return e}},b=c(10),m=c(4),u=c(22),h=c.n(u),x=c(33),O=c(154),p=c.n(O),g=function(e){return new Promise((function(t,c){var a={email:e};p.a.sign(a,"35T0_es_UN4_P4LaBR4_sECrETa",{expiresIn:"1h"},(function(e,a){e&&(console.log(e),c("No se puede generar el tokens")),t(a)}))}))},v=c(0),f=function(e){var t=e.msg;return Object(v.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show text-center",role:"alert",children:[Object(v.jsx)("strong",{children:"\xa1 ERROR ! "})," \xa0 ",t]})},N=c(83),w=c(56),y=c.n(w),C=function(e){var t=e.history,c=Object(a.useContext)(l),s=c.dispatch,n=(c.initialState,Object(a.useState)("")),i=Object(r.a)(n,2),d=i[0],j=i[1],b=Object(N.a)({initialValues:{email:"",password:""},onSubmit:function(e){"challenge@alkemy.org"===e.email&&"".concat("react")===e.password?u(e):m(e)},validate:function(){var e={};return b.touched.email&&!b.values.email?e.email="Campo requerido":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(b.values.email)||(e.email="E-mail invalido"),b.touched.password&&!b.values.password?e.password="Campo requerido":b.values.password.length<=3&&(e.password="Deve contener al menos 3 caracteres"),e}}),m=function(e){y.a.post("".concat("http://challenge-react.alkemy.org/"),e).then((function(e){console.log(e.data)})).catch((function(e){j("Please provide valid email and password")}))},u=function(){var e=Object(x.a)(h.a.mark((function e(c){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("challenge@alkemy.org");case 2:a=e.sent,console.log(a),n=localStorage.getItem("lastPath")||"/",r=c.email,s({type:o,payload:{email:r,token:a}}),t.replace(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"login-container p-5",children:Object(v.jsx)("div",{className:"container login-card",children:Object(v.jsxs)("div",{className:"row w-100",children:[Object(v.jsx)("div",{className:"col-md-6 col-lg-6 form",children:Object(v.jsxs)("form",{className:"form-group text-center",onSubmit:b.handleSubmit,noValidate:!0,children:[Object(v.jsx)("h2",{className:"text-center mt-2",children:" Login"}),Object(v.jsxs)("div",{className:"mb-3 row",children:[Object(v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Email:"}),Object(v.jsxs)("div",{className:"col-sm-9",children:[Object(v.jsx)("input",{type:"email",name:"email",className:"form-control",value:b.values.email,onChange:b.handleChange}),Object(v.jsx)("span",{className:"text-danger ",children:b.touched.email&&b.errors.email})]})]}),Object(v.jsxs)("div",{className:"mb-3 row",children:[Object(v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Contrase\xf1a:"}),Object(v.jsxs)("div",{className:"col-sm-9",children:[Object(v.jsx)("input",{type:"password",name:"password",className:"form-control",value:b.values.password,onChange:b.handleChange}),Object(v.jsx)("span",{className:"text-danger ",children:b.touched.password&&b.errors.password})]})]}),Object(v.jsx)("button",{className:"btn btn-primary mb-3",type:"submit",children:"Login"}),d&&Object(v.jsx)(f,{msg:d})]})}),Object(v.jsx)("div",{className:"col-md-6 col-lg-6",children:Object(v.jsx)("img",{src:"/challenge-react-alkemy/assets/img/heroes.png",className:"login-img img-fluid"})})]})})})},S=function(){var e=Object(a.useContext)(l).heroCont,t=Object(m.h)().heroId;if(0==e)return Object(v.jsx)(m.a,{to:"/"});if(!t)return Object(v.jsx)(m.a,{to:"/"});var c=e.find((function(e){return e.id===t})),s=c.image,n=c.name,r=c.appearance,i=c.biography,o=c.work;return Object(v.jsxs)("div",{className:"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative mt-4",children:[Object(v.jsxs)("div",{className:"col-md-5 col-lg-5",children:[Object(v.jsx)("div",{className:"overflow",children:Object(v.jsx)("img",{src:s.url,alt:"...",className:"card-img-top"})}),Object(v.jsx)(b.b,{className:"d-grid gap-2 btn btn-danger mt-2",to:"/",children:"Regresar"})]}),Object(v.jsx)("div",{className:"col d-flex flex-column position-static",children:Object(v.jsxs)("div",{className:"card-body text-center",children:[Object(v.jsx)("strong",{class:"d-inline-block mb-2",children:"Apariencia"}),Object(v.jsx)("hr",{}),Object(v.jsx)("h2",{className:"card-title",children:n}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-md-6 col-lg-6",children:["Color de ojos: ",Object(v.jsx)("br",{}),"Genero: ",r.gender," ",Object(v.jsx)("br",{}),Object(v.jsx)("h4",{children:"Altura"}),Object(v.jsx)("ul",{children:r.height.map((function(e,t){return Object(v.jsxs)("li",{className:"style-li",children:[e,"\xa0\xa0\xa0"]},t)}))})]}),Object(v.jsxs)("div",{className:"col-md-6 col-lg-6",children:["Raza: ",r.race,Object(v.jsx)("br",{}),"Color de cabello: ",Object(v.jsx)("br",{}),Object(v.jsx)("h4",{children:"Peso"}),Object(v.jsx)("ul",{children:r.weight.map((function(e,t){return Object(v.jsxs)("li",{className:"style-li",children:[e," \xa0 \xa0"]},t)}))})]})]}),Object(v.jsx)("h4",{children:"Alias"}),Object(v.jsx)("ul",{children:i.aliases.map((function(e,t){return Object(v.jsxs)("li",{className:"style-li",children:[e,", "]},t)}))}),Object(v.jsx)("h4",{className:"card-title",children:"Trabajo"}),Object(v.jsx)("p",{className:"card-text",children:o.occupation})]})})]})},I=function(){var e=Object(a.useContext)(l),t=e.heroCont,c=e.setHeroCont,s=Object(a.useState)(""),n=Object(r.a)(s,2),i=n[0],o=n[1],d=Object(a.useState)([]),j=Object(r.a)(d,2),m=j[0],u=j[1];Object(a.useEffect)((function(){!function(){var e=t.map((function(e){return e.powerstats})),c=e.reduce((function(e,t){return parseInt(t.combat)?e+parseInt(t.combat):e}),0),a=e.reduce((function(e,t){return parseInt(t.durability)?e+parseInt(t.durability):e}),0),s=e.reduce((function(e,t){return parseInt(t.intelligence)?e+parseInt(t.intelligence):e}),0),n=e.reduce((function(e,t){return parseInt(t.strength)?e+parseInt(t.strength):e}),0),r=e.reduce((function(e,t){return parseInt(t.speed)?e+parseInt(t.speed):e}),0),l=e.reduce((function(e,t){return parseInt(t.power)?e+parseInt(t.power):e}),0);u([c,a,s,n,r,l]);var i=Math.max(c,a,s,n,r,l);o(c==i?"Combat":a==i?"Durability ":s==i?"Intelligence":n==i?"Strength":r==i?"Speed":l==i?"Power":null)}()}),[t]);return Object(v.jsx)(v.Fragment,{children:0==t?Object(v.jsx)("div",{className:"py-5 text-center container",children:Object(v.jsx)("div",{className:"row py-lg-5",children:Object(v.jsxs)("div",{className:"col-lg-6 col-md-8 mx-auto",children:[Object(v.jsx)("h2",{className:"text-white",children:"Equipo de Heroes"}),Object(v.jsx)("p",{className:"lead text-white",children:"Crea tu propio equipo de heroes y villanos. En el conoceras el tipo de equipo que tienes, ademas la sumatoria de poderes de sus personajes. Para crear tu equipo debes dirigirte a la seccion buscar Heroes. \xbfEmpezamos?"}),Object(v.jsx)("p",{children:Object(v.jsx)(b.b,{to:"Search",className:"btn btn-primary my-2",children:"Buscar Heroes"})})]})})}):Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-6 col-md-8 mx-auto text-center",children:Object(v.jsx)("h4",{className:"lead text-white",children:"Acumulado de poderes"})})}),Object(v.jsxs)("div",{className:"text-white text-center",children:["Combate: ",Object(v.jsx)("span",{className:"span text-primary",children:m[0]})," \xa0 Durabilidad: ",Object(v.jsx)("span",{className:"span text-primary",children:m[1]})," \xa0 Inetligencia: ",Object(v.jsx)("span",{className:"span text-primary",children:m[2]})," \xa0 Fuerza: ",Object(v.jsx)("span",{className:"span text-primary",children:m[3]})," \xa0 Velocidad: ",Object(v.jsx)("span",{className:"span text-primary",children:m[4]}),"  \xa0 Poder: ",Object(v.jsxs)("span",{className:"span text-primary",children:[" ",m[5]]}),Object(v.jsxs)("h4",{className:"text-white",children:["Tipo de Equipo: ",Object(v.jsx)("span",{className:"text-primary h1",children:i})]})]}),Object(v.jsx)("div",{className:"album py-3",children:Object(v.jsx)("div",{className:"home-container",children:Object(v.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3",children:t.map((function(e){return Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"card shadow-sm",children:[Object(v.jsx)("div",{className:"overflow",children:Object(v.jsx)("img",{src:e.image.url,className:"card-img-top",alt:"..."})}),Object(v.jsxs)("div",{className:"card-body justify-content-center",children:[Object(v.jsx)("h3",{className:"card-title text-center ",children:Object(v.jsx)("b",{children:e.name})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-4 col-lg-4",children:Object(v.jsx)("b",{children:"Poderes:"})}),Object(v.jsx)("div",{className:"col-sm col-md",children:Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{className:"card-text",children:["Combate: ",Object(v.jsx)("b",{children:e.powerstats.combat})]}),Object(v.jsxs)("li",{className:"card-text",children:["Durabilidad: ",Object(v.jsx)("b",{children:e.powerstats.durability})]}),Object(v.jsxs)("li",{className:"card-text",children:["Inteligencia:",Object(v.jsx)("b",{children:e.powerstats.intelligence})," "]}),Object(v.jsxs)("li",{className:"card-text",children:["Fuerza:",Object(v.jsx)("b",{children:e.powerstats.strength})," "]}),Object(v.jsxs)("li",{className:"card-text",children:["Velocidad: ",Object(v.jsx)("b",{children:e.powerstats.speed})]}),Object(v.jsxs)("li",{className:"card-text",children:["Poders: ",Object(v.jsx)("b",{children:e.powerstats.power})]})]})})]}),Object(v.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(v.jsxs)("div",{className:"btn-group",children:[Object(v.jsx)(b.b,{className:"btn btn-primary",to:"/hero/".concat(e.id),children:" +M\xe1s"}),Object(v.jsx)("button",{className:"btn btn-danger",onClick:function(){!function(e){var a=t.filter((function(t){return t.id!==e}));c(a)}(e.id)},children:"Quitar"})]})})]})]})},e.id)}))})})})]})})},k=function(){var e=Object(a.useContext)(l),t=e.user,c=e.dispatch,s=Object(m.g)();return Object(v.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark p-3",children:Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsx)(b.b,{className:"navbar-brand",to:"/",children:Object(v.jsx)("h2",{children:"Heroes Teams"})}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(v.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(b.c,{activeClassName:"active",className:"nav-link","aria-current":"page",exact:!0,to:"/",children:"Home"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(b.c,{activeClassName:"active",className:"nav-link",exact:!0,to:"/Search",children:"Search"})})]}),Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsxs)("span",{className:"span text-primary me-2",children:[" ",t.email]}),Object(v.jsx)("button",{className:"btn text-light",onClick:function(){s.replace("/"),c({type:d})},children:"Logout"})]})]})]})})},E=c(157),A=c(53),P=y.a.create({baseURL:"".concat("https://www.superheroapi.com/api.php/10226034188023896/")}),q=function(e){var t=e.history,c=Object(a.useContext)(l),s=(c.heroCont,c.setHeroCont),n=Object(a.useState)({name:""}),o=Object(r.a)(n,2),d=o[0],j=o[1],b=Object(a.useState)([]),m=Object(r.a)(b,2),u=m[0],O=m[1],p=Object(a.useState)([]),g=Object(r.a)(p,2),N=g[0],w=g[1],y=Object(a.useState)(""),C=Object(r.a)(y,2),S=C[0],I=C[1],k=d.name,q=function(){var e=Object(x.a)(h.a.mark((function e(t){var c,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("search/".concat(t));case 2:c=e.sent,a=c.data,s=a.results,H(t,s)&&O(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){return 0===e.length?I("Ingrese una letra"):t?(I(null),!0):I("No existe personaje con ese nombre")};console.log(S);return Object(v.jsxs)("div",{className:"search-component py-4",children:[Object(v.jsx)("h2",{className:"text-white",children:"Buscarcar Heroe"}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-md-4 col-lg-4",children:[Object(v.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),q(k)},children:Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsx)("input",{type:"text",className:"form-control",name:"name",value:k,onChange:function(e){var t=e.target;j(Object(i.a)(Object(i.a)({},d),{},Object(A.a)({},t.name,t.value)))}}),Object(v.jsx)("button",{className:"btn btn-lg btn-outline-success",type:"submit",children:"Search"})]})}),Object(v.jsx)("div",{className:"content-team mb-2",children:0===N.length?Object(v.jsx)("div",{className:"alert alert-warning text-center",children:Object(v.jsx)("strong",{children:"No has seleccionado Heroe para tu Equipo"})}):Object(v.jsxs)("div",{className:"card ",children:[Object(v.jsx)("div",{className:"card-header text-center",children:"Heroes Seleccionados"}),Object(v.jsx)("ul",{className:"list-group list-group-flush",children:N.map((function(e,t){return Object(v.jsxs)("li",{className:"list-group-item d-flex justify-content-between ",children:[Object(v.jsx)("span",{className:"",children:e.name}),Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){!function(e){var t=N.filter((function(t){return t.id!==e}));w(t)}(e.id)},children:"X"})]},e.id)}))}),Object(v.jsx)("button",{className:"btn btn-sm btn-success mb-2",onClick:function(){s(N),t.push("/")},children:"Equipo Listo"})]})})]}),Object(v.jsxs)("div",{className:"col-md col-lg",children:[S&&Object(v.jsx)(f,{msg:S}),0===u.length?Object(v.jsx)("div",{className:"alert alert-warning text-center",children:Object(v.jsx)("strong",{children:" Busca a tu Heroe o Villano favorito para armar tu equipo"})}):Object(v.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:u.map((function(e){return Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("img",{src:e.image.url,className:"card-img-top",alt:"..."}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:e.name}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(e){var t=N.find((function(t){return t.id===e.id})),c=N.filter((function(e){return"good"===e.biography.alignment})),a=N.filter((function(e){return"bad"===e.biography.alignment}));c.length>3?I("Existen mas de 3 personajes buenos"):(I(""),a.length>3?I("Existen mas de 3 personajes malvados"):(I(""),t?I("Este heroe ya fue cargado"):N.length<6?(w([].concat(Object(E.a)(N),[e])),console.log(N)):I("El quipo no puede contener mas de 6 personajes")))}(e)},children:"Agregar"})]})]})},e.id)}))})]})]})]})},H=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)(m.d,{children:[Object(v.jsx)(m.b,{exact:!0,path:"/",component:I}),Object(v.jsx)(m.b,{exact:!0,path:"/hero/:heroId",component:S}),Object(v.jsx)(m.b,{exact:!0,path:"/search",component:q}),Object(v.jsx)(m.a,{to:"/"})]})})]})},F=c(57),L=["isAuthenticated","component"],R=function(e){var t=e.isAuthenticated,c=e.component,a=Object(F.a)(e,L);return localStorage.setItem("lastPath",a.location.pathname),Object(v.jsx)(m.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(v.jsx)(c,Object(i.a)({},e)):Object(v.jsx)(m.a,{to:"/login"})}}))},T=["isAuthenticated","component"],B=function(e){var t=e.isAuthenticated,c=e.component,a=Object(F.a)(e,T);return Object(v.jsx)(m.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(v.jsx)(m.a,{to:"/"}):Object(v.jsx)(c,Object(i.a)({},e))}}))},D=function(){var e=Object(a.useContext)(l).user;return Object(v.jsx)(b.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(m.d,{children:[Object(v.jsx)(B,{exact:!0,path:"/login",component:C,isAuthenticated:e.logged}),Object(v.jsx)(R,{path:"/",component:H,isAuthenticated:e.logged})]})})})},V=(c(321),function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}}),_=function(){var e=Object(a.useReducer)(j,{},V),t=Object(r.a)(e,2),c=t[0],s=t[1];Object(a.useEffect)((function(){localStorage.setItem("user",JSON.stringify(c))}),[c]);var n=Object(a.useState)([]),i=Object(r.a)(n,2),o=i[0],d=i[1];return Object(v.jsx)(l.Provider,{value:{heroCont:o,setHeroCont:d,user:c,dispatch:s},children:Object(v.jsx)(D,{})})},z=(c(322),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,325)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))});n.a.render(Object(v.jsx)(_,{}),document.getElementById("root")),z()}},[[323,1,2]]]);
//# sourceMappingURL=main.66a8ea2b.chunk.js.map